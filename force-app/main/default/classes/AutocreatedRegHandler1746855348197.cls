//TODO:This autogenerated class includes the basics for a Registration
//Handler class. You will need to customize it to ensure it meets your needs and
//the data provided by the third party.

global class AutocreatedRegHandler1746855348197 implements Auth.RegistrationHandler{

    global boolean canCreateUser(Auth.UserData data) {
        return false;
    }
    
    global User createUser(Id portalId, Auth.UserData data){
        //List<User> users = [SELECT Id FROM User WHERE FederationIdentifier=:data.attributeMap.get('externalId')];
        //List<User> users = [SELECT Id FROM User WHERE FederationIdentifier=:data.identifier];
        List<User> users = [SELECT Id FROM User WHERE FederationIdentifier=:data.email];
        if (users.size() == 1) return users[0];
        return null;
    }
    
    global void updateUser(Id userId, Id portalId, Auth.UserData data){
    
    }
    //test
}